2025-08-22 00:51:10,093 - rag_piece - INFO - setup_logging:61 - Logging initialized - Level: INFO, File: logs\rag_piece_20250822_005110.log
2025-08-22 00:51:10,094 - rag_piece - INFO - main:24 - Starting One Piece Wiki RAG Database Builder
2025-08-22 00:51:10,097 - rag_piece - INFO - _display_configuration:62 - RAG Configuration:
2025-08-22 00:51:10,097 - rag_piece - INFO - _display_configuration:63 -   - Chunking: 100-400 tokens (target: 250)
2025-08-22 00:51:10,098 - rag_piece - INFO - _display_configuration:64 -   - Keywords: 10 per chunk using BM25 scoring
2025-08-22 00:51:10,102 - rag_piece - INFO - _display_configuration:65 -   - Embedding model: all-MiniLM-L6-v2
2025-08-22 00:51:10,111 - rag_piece - INFO - _clear_previous_data:72 - Clearing previous data folder...
2025-08-22 00:51:10,130 - rag_piece - INFO - setup_logging:61 - Logging initialized - Level: INFO, File: logs\rag_piece_20250822_005110.log
2025-08-22 00:51:10,144 - rag_piece - INFO - __init__:37 - Initializing RAG Database at data\rag_db
2025-08-22 00:51:10,210 - rag_piece.search - INFO - _load_embedding_model:253 - Loading embedding model: all-MiniLM-L6-v2
2025-08-22 00:51:14,915 - rag_piece - INFO - _process_articles:95 - Processing 1 articles
2025-08-22 00:51:14,921 - rag_piece - INFO - _process_articles:99 - Processing article: Arabasta Kingdom
2025-08-22 00:51:14,923 - rag_piece - INFO - _process_articles:102 - Running text and image scraper...
2025-08-22 00:51:14,924 - rag_piece.scraper - INFO - scrape_article:45 - Scraping article: Arabasta Kingdom
2025-08-22 00:51:14,925 - rag_piece.scraper - INFO - _find_sub_articles:80 - Finding sub-articles for: Arabasta Kingdom
2025-08-22 00:51:16,697 - rag_piece.scraper - INFO - _find_sub_articles:113 - Found 0 sub-articles
2025-08-22 00:51:57,871 - rag_piece.scraper - INFO - _download_single_image:373 - Downloaded: Arabasta_Kingdom_Infobox.png (500x396)
2025-08-22 00:52:00,419 - rag_piece.scraper - INFO - _download_single_image:373 - Downloaded: Alubarna_Infobox.png (1674x884)
2025-08-22 00:52:02,599 - rag_piece.scraper - INFO - _download_single_image:373 - Downloaded: Nanohana.png (704x579)
2025-08-22 00:52:05,068 - rag_piece.scraper - INFO - _download_single_image:373 - Downloaded: Yuba_Infobox.png (1912x1078)
2025-08-22 00:52:07,064 - rag_piece.scraper - INFO - _download_single_image:373 - Downloaded: Rainbase_Infobox.png (704x528)
2025-08-22 00:52:09,584 - rag_piece.scraper - INFO - _download_single_image:373 - Downloaded: Tomb_of_the_Kings_Infobox.png (1912x1078)
2025-08-22 00:52:10,871 - rag_piece.scraper - INFO - _download_single_image:373 - Downloaded: Arabasta_Flag.png (342x298)
2025-08-22 00:52:12,655 - rag_piece.scraper - INFO - _download_single_image:373 - Downloaded: Nefertari_Vivi_Portrait.png (511x511)
2025-08-22 00:52:14,348 - rag_piece.scraper - INFO - _download_single_image:373 - Downloaded: Nefertari_Cobra_Portrait.png (466x466)
2025-08-22 00:52:15,629 - rag_piece.scraper - INFO - _download_single_image:373 - Downloaded: Nefertari_Titi_Portrait.png (340x340)
2025-08-22 00:52:17,145 - rag_piece.scraper - INFO - _download_single_image:373 - Downloaded: Nefertari_D_Lili_Portrait.png (384x384)
2025-08-22 00:52:18,111 - rag_piece.scraper - INFO - _download_single_image:373 - Downloaded: NoPicAvailable.png (600x600)
2025-08-22 00:52:19,332 - rag_piece.scraper - INFO - _download_single_image:373 - Downloaded: Igaram_Portrait.png (230x230)
2025-08-22 00:52:20,641 - rag_piece.scraper - INFO - _download_single_image:373 - Downloaded: Chaka_Portrait.png (400x400)
2025-08-22 00:52:22,121 - rag_piece.scraper - INFO - _download_single_image:373 - Downloaded: Pell_Portrait.png (549x549)
2025-08-22 00:52:23,456 - rag_piece.scraper - INFO - _download_single_image:373 - Downloaded: Terracotta_Portrait.png (278x278)
2025-08-22 00:52:24,962 - rag_piece.scraper - INFO - _download_single_image:373 - Downloaded: Ho_Portrait.png (425x425)
2025-08-22 00:52:26,448 - rag_piece.scraper - INFO - _download_single_image:373 - Downloaded: Maidy_Portrait.png (340x340)
2025-08-22 00:52:27,775 - rag_piece.scraper - INFO - _download_single_image:373 - Downloaded: Hyota_Portrait.png (258x258)
2025-08-22 00:52:27,781 - rag_piece.scraper - INFO - scrape_article:64 - Completed scraping: Arabasta Kingdom (40 sections, 19 images)
2025-08-22 00:52:27,784 - rag_piece - INFO - _process_articles:105 - Running CSV scraper...
2025-08-22 00:52:27,786 - rag_piece.csv_scraper - INFO - scrape_article_to_csv:46 - Scraping article for CSV: Arabasta Kingdom
2025-08-22 00:52:27,793 - rag_piece.csv_scraper - INFO - _find_sub_articles:81 - Finding sub-articles for: Arabasta Kingdom
2025-08-22 00:52:29,592 - rag_piece.csv_scraper - INFO - _find_sub_articles:114 - Found 0 sub-articles
2025-08-22 00:52:30,791 - rag_piece.csv_scraper - INFO - _extract_tables:196 - Found 28 total tables in Arabasta Kingdom
2025-08-22 00:52:30,819 - rag_piece.csv_scraper - INFO - _extract_tables:215 - Extracted table 1: Citizens[] (22 rows, 1 columns)
2025-08-22 00:52:30,840 - rag_piece.csv_scraper - INFO - _convert_tables_to_csv:459 - Created CSV: Arabasta_Kingdom_Citizens.csv
2025-08-22 00:52:30,844 - rag_piece.csv_scraper - INFO - scrape_article_to_csv:65 - Completed CSV scraping: Arabasta Kingdom (1 CSV files created)
2025-08-22 00:52:30,845 - rag_piece - INFO - process_sections_directly:58 - Processing 40 sections for article: Arabasta Kingdom
2025-08-22 00:52:30,861 - rag_piece - INFO - process_sections_directly:74 - Created 20 chunks from 40 sections
2025-08-22 00:52:30,861 - rag_piece - INFO - _process_articles:122 - Successfully processed: Arabasta Kingdom
2025-08-22 00:52:30,863 - rag_piece - INFO - _process_articles:123 -   - Text sections: 40
2025-08-22 00:52:30,864 - rag_piece - INFO - _process_articles:124 -   - CSV files: 1
2025-08-22 00:52:30,864 - rag_piece - INFO - _process_articles:125 -   - Chunks: 20
2025-08-22 00:52:30,864 - rag_piece - INFO - _process_articles:134 - Building RAG database from 20 total chunks...
2025-08-22 00:52:30,865 - rag_piece - INFO - build_indices_from_chunks:96 - Building indices for 20 chunks
2025-08-22 00:52:30,865 - rag_piece.keywords - INFO - extract_keywords:40 - Extracting keywords for 20 chunks
2025-08-22 00:52:30,865 - rag_piece.keywords - INFO - _build_corpus_statistics:66 - Building corpus statistics for keyword extraction
2025-08-22 00:52:31,647 - rag_piece.keywords - INFO - extract_keywords:57 - Keyword extraction completed
2025-08-22 00:52:31,647 - rag_piece.search - INFO - build_whoosh_index:300 - Building Whoosh index...
2025-08-22 00:52:33,577 - rag_piece.search - INFO - build_whoosh_index:313 - Whoosh index built with 20 documents
2025-08-22 00:52:33,594 - rag_piece.search - INFO - build_faiss_index:322 - Building FAISS index...
2025-08-22 00:52:40,700 - rag_piece.search - INFO - build_faiss_index:348 - FAISS index built with 20 embeddings (384D)
2025-08-22 00:52:40,711 - rag_piece - INFO - _save_database_metadata:184 - Database metadata saved to data\rag_db\database_metadata.json
2025-08-22 00:52:40,713 - rag_piece - INFO - build_indices_from_chunks:108 - Successfully built indices for 20 chunks
2025-08-22 00:52:40,926 - rag_piece.search - INFO - load_indices:290 - Search indices loaded successfully
2025-08-22 00:52:40,927 - rag_piece.search - INFO - search:54 - Searching for: 'What is Arabasta Kingdom?' (top_k=3)
2025-08-22 00:52:40,998 - rag_piece.search - INFO - search:63 - BM25 found 20 candidates
2025-08-22 00:52:47,363 - rag_piece.search - INFO - search:68 - Returning 3 final results
2025-08-22 00:52:47,366 - rag_piece.search - INFO - search:54 - Searching for: 'Tell me about the desert in Arabasta' (top_k=3)
2025-08-22 00:52:47,396 - rag_piece.search - INFO - search:63 - BM25 found 5 candidates
2025-08-22 00:52:49,063 - rag_piece.search - INFO - search:68 - Returning 3 final results
2025-08-22 00:52:49,066 - rag_piece.search - INFO - search:54 - Searching for: 'Who are the main characters in Arabasta?' (top_k=3)
2025-08-22 00:52:49,115 - rag_piece.search - INFO - search:63 - BM25 found 3 candidates
2025-08-22 00:52:50,128 - rag_piece.search - INFO - search:68 - Returning 3 final results
2025-08-22 00:52:50,147 - rag_piece - INFO - main:45 - Process completed successfully! Processed 1 articles.
